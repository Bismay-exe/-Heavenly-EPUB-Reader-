* { margin:0; padding:0; box-sizing:border-box; scroll-behavior:smooth; }
:root { --glass: rgba(255,255,255,0.2); --glass-dark: rgba(0,0,0,0.35); }
body {
  font-family:'Poppins',sans-serif;
  background: url('backgrounds/bg.jpg') no-repeat center center fixed;
  background-size: cover;
  color:#fff;
  line-height:1.6; text-align:center; padding:20px;
  transition: all 0.5s ease;
}
body.dark { color:#f0f0f0; }
.hidden { display:none !important; }
.flex-row { display:flex; align-items:center; }
.gap { gap:10px; }

/* Glass */
.glass {
  background: var(--glass);
  backdrop-filter: blur(15px);
  border-radius: 16px;
  padding: 15px 20px;
  margin-bottom:20px;
  transition: all 0.5s ease;
}
body.dark .glass { background: var(--glass-dark); }

/* Header */
header { display:flex; flex-direction:column; gap:12px; align-items:center; }
header h1 { font-size:2.1em; animation:fadeIn 1s ease-in-out; }
.controls { display:flex; flex-wrap:wrap; gap:10px; }
.controls button, select {
  padding:8px 14px; border:none; border-radius:12px; cursor:pointer;
  background: rgba(255,255,255,0.3); color:#fff; backdrop-filter: blur(10px); transition:0.3s;
}
.controls button:hover, select:hover { transform:scale(1.05); }
.reader-only input[type="search"] {
  padding:8px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.25);
  background: rgba(255,255,255,0.2); color:#fff; outline:none; min-width:220px;
}
.color-picker { display:flex; align-items:center; gap:6px; background: rgba(255,255,255,0.2); border-radius:12px; padding:6px 10px; }
.color-picker input, .color-picker select { background:transparent; border:none; color:#fff; }

/* Library */
.grid { display:grid; gap:16px; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); }
.card {
  background: rgba(255,255,255,0.15); border-radius:16px; padding:10px;
  transition: transform .25s, background .25s; cursor:pointer; text-align:center;
}
.card:hover { transform: translateY(-4px) scale(1.02); background: rgba(76,175,80,0.35); }
.card img { width:100%; height:220px; object-fit:cover; border-radius:12px; }
.card .title { margin-top:8px; font-weight:600; }

/* Reader */
#reader-layout { display:grid; grid-template-columns: 280px 1fr; gap:20px; }
#toc { display:flex; flex-direction:column; }
#toc ul { list-style:none; display:flex; flex-direction:column; gap:6px; max-height:65vh; overflow:auto; padding-right:10px; }
#toc li a { color:#fff; text-decoration:none; padding:6px 8px; border-radius:10px; background: rgba(255,255,255,0.15); display:block; }
#toc li a:hover { background: rgba(76,175,80,0.5); }
#viewer-wrap { height:78vh; }
#viewer { width:100%; height:100%; border-radius:12px; overflow:auto; animation:fadeIn .8s ease both; }

/* Modals */
#credits-btn { position: fixed; bottom: 20px; right: 20px; background: rgba(255,255,255,0.2); border:none; padding:12px 18px; border-radius:12px; cursor:pointer; font-size:1em; color:#fff; }
.modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:1000; }
.modal-content { text-align:center; padding:20px 30px; max-width:520px; width:90%; position:relative; }
.close-modal { position:absolute; top:10px; right:15px; font-size:28px; cursor:pointer; }

/* Animations */
@keyframes fadeIn { from{opacity:0; transform:translateY(-10px);} to{opacity:1; transform:translateY(0);} }

/* Responsive */
@media (max-width: 980px) {
  #reader-layout { grid-template-columns: 1fr; }
  #toc { order:2; }
  #viewer-wrap { order:1; height:70vh; }
}
